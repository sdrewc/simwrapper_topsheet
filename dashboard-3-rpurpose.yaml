header:
  tab: "Travel Purpose"
  title: "Travel Purpose"
  description: ""


layout:
  row1:
    - type: text
      title: 'San Francisco Resident Trips Purpose Table by Time of the Day' #to be changed to SF
      description: 'Table showing trips by primary destination purpose statistics for 5 different times of the day including Daily aggeragate'
      file: 'data/purpose_tod.md'

  row2:
    - type: "line"
      title: "Bay Area Trips by Primary Destination Purpose and Time Of Day"
      description: 'Graph showing trips by primary destination purpose statistics for 5 different times of the day'
      width: 2
      props:
        dataset: "data/purpose_tod.csv"
        x: "TOD"
        columns: [ 'Work', 'School','Escort','Personal Business & Medical','Shopping','Meals','Social & Recreational','Change Mode','Return Home']
        xAxisName: 'Time of the Day'
        yAxisName: 'Count of trips'

  row3:
    - type: text
      title: 'Bay Area Daily Trips Purpose Table by Primary Destination'
      description: 'Table showing statistics for 15 districts trips by primary destination purpose statistics'
      file: 'data/purpose_dist_daily.md'

  row4:
    - type: 'bar'
      title: 'SF Daily Trip Purpose Plot'
      description: 'Graph showing statistics for 12 districts trips by primary destination purpose statistics'
      height: 4
      width: 1
      dataset: 'data/purpose_all.csv'
      stacked: true
      x: 'Districts'
      columns: [ 'Work', 'School','Escort','Personal Business & Medical','Shopping','Meals','Social & Recreational','Change Mode','Return Home']
      xAxisName: 'Districts'
      yAxisName: 'District Counts'

  taz_map:
    - type: map
      title: Daily Resident Travel Purpose for All TAZs
      zoom: 11
      center:
          - -122.42
          - 37.77
      height: 12
      shapes: ../../../../shapefiles/Topsheet/TAZ2454_clean.shp
      datasets:
        taz: 
          file: data/taz_rpurpose_h.csv
          join: TAZ:TAZs
      display:
          fill:
            dataset: taz
            columnName: Work
            colorRamp:
              ramp: Plasma
              steps: 10

      tooltip:
        - taz.District
        - taz.TAZs
        - taz.Work
        - taz.Grade School
        - taz.High School
        - taz.College
        - taz.Workbased

  taz_origin_destination_map:
    - type: map
      title: Daily Travel Purpose Map by Origin for ALL TAZs
      zoom: 11
      center:
          - -122.42
          - 37.77
      height: 12
      shapes: ../../../../shapefiles/Topsheet/TAZ2454_clean.shp
      datasets:
        taz: 
          file: data/taz_rpurpose_o.csv
          join: TAZ:TAZs
      display:
          fill:
            dataset: taz
            columnName: Work
            colorRamp:
              ramp: Plasma
              steps: 10

      tooltip:
        - taz.District
        - taz.TAZs
        - taz.Work
        - taz.Grade School
        - taz.High School
        - taz.College
        - taz.Workbased

    - type: map
      title: Daily Travel Purpose Map by Destination for ALL TAZs
      zoom: 11
      center:
          - -122.42
          - 37.77
      height: 12
      shapes: ../../../../shapefiles/Topsheet/TAZ2454_clean.shp
      datasets:
        taz: 
          file: data/taz_rpurpose_d.csv
          join: TAZ:TAZs
      display:
          fill:
            dataset: taz
            columnName: Work
            colorRamp:
              ramp: Plasma
              steps: 10

      tooltip:
        - taz.District
        - taz.TAZs
        - taz.Work
        - taz.Grade School
        - taz.High School
        - taz.College
        - taz.Workbased

  district_map:
    - type: map
      title: Daily Resident Travel Purpose Map for 15 Districts
      zoom: 11
      center:
          - -122.42
          - 37.77
      height: 12
      shapes: ../../../../shapefiles/Topsheet/Dist_15_Dissolve.shp
      datasets:
        district: 
          file: data/district_rpurpose_h.csv
          join: Dist15_DIS:District
      display:
          fill:
              dataset: district
              columnName: Work
              colorRamp:
                  ramp: Plasma
                  steps: 15

      tooltip:
        # - district.District No
        - district.District
        - district.District Names
        - district.Work
        - district.Grade School
        - district.High School
        - district.College
        - district.Workbased
# ['Work','Grade School','High School','College','Workbased','Escort','Personal Business','Social & Recreational','Shopping','Meals']

  taz_origin_destion_map:
    - type: map
      title: Daily Travel Purpose Map by Origin for 15 Districts
      zoom: 11
      center:
          - -122.42
          - 37.77
      height: 12
      shapes: ../../../../shapefiles/Topsheet/Dist_15_Dissolve.shp
      datasets:
        district: 
          file: data/district_rpurpose_o.csv
          join: Dist15_DIS:District
      display:
          fill:
              dataset: district
              columnName: Work
              colorRamp:
                  ramp: Plasma
                  steps: 15

      tooltip:
        # - district.District No
        - district.District
        - district.District Names
        - district.Work
        - district.Grade School
        - district.High School
        - district.College
        - district.Workbased
        
    - type: map
      title: Daily Travel Purpose Map by Destination for 15 Districts
      zoom: 11
      center:
          - -122.42
          - 37.77
      height: 12
      shapes: ../../../../shapefiles/Topsheet/Dist_15_Dissolve.shp
      datasets:
        district: 
          file: data/district_rpurpose_d.csv
          join: Dist15_DIS:District
      display:
          fill:
              dataset: district
              columnName: Work
              colorRamp:
                  ramp: Plasma
                  steps: 15

      tooltip:
        # - district.District No
        - district.District
        - district.District Names
        - district.Work
        - district.Grade School
        - district.High School
        - district.College
        - district.Workbased
  row5:
    - type: text
      title: 'SF Resident Tour Purpose Table by Time of the Day'
      description: 'Table showing tours by tour primary destination purpose statistics for 5 different times of the day including Daily aggeragate'
      file: 'data/purpose_tod_tour.md'
  row6:
    - type: "line"
      title: "Tours by primary destination purpose and Time Of Day"
      width: 2
      props:
        dataset: "data/purpose_tod_tour.csv"
        x: "TOD"
        columns: ['Work','Grade School','High School','College','Escort','Personal Business(including medical)','Social & Recreational','Shopping','Meals']
        xAxisName: 'Time of the Day'
        yAxisName: 'Count of tours'

  row7:
    - type: text
      title: 'SF Daily Tours Purpose Table by Primary Destination'
      description: 'Table showing statistics for 15 districts'
      file: 'data/purpose_all_tour.md'

  row8:
    - type: 'bar'
      title: 'Daily Tour Purpose plot'
      # description: 'Purpose and their trips in 2 locations'
      height: 4
      width: 1
      dataset: 'data/purpose_all_tour.csv'
      stacked: true
      x: 'district'
      columns: ['Work','Grade School','High School','College','Escort','Personal Business(including medical)','Social & Recreational','Shopping','Meals']
      yAxisName: 'District Counts'